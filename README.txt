-----------------------------------------

 Chess ZX project by Chessforeva (feb.2016)

   http://chessforeva.blogspot.com/2016/02/zx-spectrum-128-chess-puzzles.html
   http://github.com/Chessforeva/ChessZX

   1687  checkmates in 1 move
   4103  checkmates in 2 move
   2626  checkmates in 3 move

   User can move cursor, drag pieces and do chess movements to squares.

Does not work on ZX Spectrum 48! It is .SNA 128 version.
Emulate with standard 32 Kb ROM 128

-----------------------------------------


This z80 assembler code for ZX spectrum is 99% TASM compatible.
SjASMPlus compiles .SNA file ready for loading on emulators.

Chess .pgn files (in Mx.zip file), are highly compressed in
 a sequence of bits. Read "compression_how.txt".

SNA of ZX Spectrum 128 can include 7 banks 16Kb each (ignored 2nd,5th), so it is enough
to contain 8416 chess puzzles - positions and 5 movements each.

No mouse, no floppy disk required.

-----------------
Keys:
 [W][A][S][D], [Space], [Enter] - controls cursor, selects
 Kempston joystick compatible, if software finds it.

 [O] - redefine keys. Very useful when emulator substitutes cursor keys with numbers 567890..

 [N] - skip to next puzzle
 [T] - disables same keypress twice. Useful when emulator performance is increased.
 [F],[V] - does the same action as the last keypress

 [P] - disables long chess puzzle verification on loading. It is for slow emulation.

 [1] - display debug variables: move number, possible moves generated by assembler,
      bank 0-7, segment C0-FE, game 0-255, width of move data for side to move and AI-opponent,
      FEN of chess puzzle position.

-----------------
Chess notes:
 1. The first "right solution" move for each puzzle is only one.
 2. The second move is such as in database, sorry if takes long to click.
 3. The checkmate move can be various, do if can.
 4. AI plays one variant of opponent moves.

-----------------
Lua scripts (LuaJIT is a compact Lua,  cmd batch files):
 fig24bit.lua - prepares .asm code of data from 24-bit .bmp files of pieces.
               sjasmplus can compile a large project, no need to generate binaries.
 
 preppgn.lua - processes .pgn files, generates binaries BANK0-7.bin


-----------------

Works well with cursor keys on emulators:
 Speccy (http://fms.komkon.org/Speccy/)
 EmuZWin (http://emuzwin.software.informer.com)
 ZXSpin (http://www.zophar.net/sinclair/zx-spin.html)
 RealSpectrum (http://zxm.speccy.cz/realspec/)
 



